{% extends "template.html"%}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="page-header">
        <h1 id="tables">大会リスト
          {% if current_user.is_authenticated %}
          <a href="{{url_for('competition_edit')}}" class="btn btn-primary btn-lg">新規大会登録</a>
          {% endif %}
        </h1>
      </div>
      <div class="bs-component">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>
                正式名称
              </th>
              <th>正式名称(カナ)</th>
              <th>表示名</th>
              <th>場所</th>
            </tr>
          </thead>
          <tbody>
            {% for competition in competitions %}
            <tr>
              <td><a href="{{url_for('competition_individual',competition_id=competition.id)}}">
                  {{competition.name}}
                </a></td>
                <td>{{competition.kana}}</td>
                <td>{{competition.show_name}}</td>
                <td>{{competition.place}}</td>
                {% if current_user.is_authenticated %}
                <td>
                  <form method="get" action="{{url_for('competition_edit')}}">
                    <input type="hidden" name="method" value="PUT">
                    <input type="hidden" name="id" value="{{competition.id}}">
                    <input type="submit" value="編集" class="btn btn-warning">
                  </form>

                  <form method="post" action="{{url_for('competition_confirm')}}">
                    <input type="hidden" name="method" value="DELETE">
                    <input type="hidden" name="id" value="{{competition.id}}">
                    <input type="submit" value="削除" class="btn btn-danger">
                  </form>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
